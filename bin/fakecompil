#!/bin/bash

flags=(-Iinclude -c -pthread -fvisibility=hidden -O2 -fpic -fPIC -DHX_LINUX -DHXCPP_M64 -DHXCPP_VISIT_ALLOCS -DHXCPP_API_LEVEL=311 -m64 -DHXCPP_M64  -x c++ -frtti -Wno-invalid-offsetof -D_CRT_SECURE_NO_DEPRECATE -DHX_UNDEFINE_H -lopenmp -lopenmpi -ansi -std=standard -fgnu89-inline -aux-info filename -fallow-parameterless-variadic-functions -fno-asm  -fno-builtin  -fno-builtin-function -fhosted  -ffreestanding -fopenacc -fopenmp -fopenmp-simd -fms-extensions -fplan9-extensions -fsso-struct=endianness -fallow-single-precision  -fcond-mismatch -flax-vector-conversions -fsigned-bitfields  -fsigned-char -funsigned-bitfields  -funsigned-char -trigraphs -traditional -traditional-cpp -ffriend-injection -fno-elide-constructors -fno-enforce-eh-specs -ffor-scope  -fno-for-scope  -fno-gnu-keywords -fno-implicit-templates -fno-implicit-inline-templates -fno-implement-inlines  -fms-extensions -fno-nonansi-builtins  -fnothrow-opt  -fno-operator-names -fno-optional-diags  -fpermissive -fno-pretty-templates -frepo  -fno-rtti -fsized-deallocation -ftemplate-backtrace-limit=256 -ftemplate-depth=1024 -fno-threadsafe-statics  -fuse-cxa-atexit -fno-weak  -nostdinc++ -fvisibility-inlines-hidden -fvisibility-ms-compat -fext-numeric-literals -Wabi=8  -Wabi-tag  -Wconversion-null  -Wctor-dtor-privacy -Wdelete-non-virtual-dtor -Wliteral-suffix -Wmultiple-inheritance -Wnamespaces -Wnarrowing -Wnoexcept -Wnon-virtual-dtor  -Wreorder -Weffc++  -Wstrict-null-sentinel -Wtemplates -Wno-non-template-friend  -Wold-style-cast -Woverloaded-virtual  -Wno-pmf-conversions -Wsign-promo -Wvirtual-inheritance)

files=(./opengl/qglpixelbuffer.cpp ./opengl/qglshaderprogram.cpp ./opengl/gl2paintengineex/qglengineshadermanager.cpp ./opengl/gl2paintengineex/qpaintengineex_opengl2.cpp ./opengl/gl2paintengineex/qgl2pexvertexarray.cpp ./opengl/gl2paintengineex/qglcustomshaderstage.cpp ./opengl/gl2paintengineex/qglgradientcache.cpp ./opengl/gl2paintengineex/qtextureglyphcache_gl.cpp ./opengl/qglcolormap.cpp ./opengl/qglbuffer.cp p ./opengl/qglpaintdevice.cpp ./opengl/doc/snippets/code/src_opengl_qglcolormap.cpp ./opengl/doc/snippets/code/src_opengl_qglpixelbuffer.cpp ./opengl/doc/snippets/code/src_opengl_qgl.cpp ./opengl/doc/snippets/code/doc_src_qtopengl.cpp ./opengl/doc/snippets/code/src_opengl_qglshaderprogram.cpp ./opengl/qglfunctions.cpp ./opengl/qgraphicsshadereffect.cpp ./opengl/qglframebufferobject.cpp ./opengl/qgl.cpp ./concurrent/qtconcurrentthreadengine.cpp ./concurrent/qtconcurrentmap.cpp ./concurrent/qtconcurrentrun.cpp ./concurrent/doc/snippets/code/src_concurrent_qtconcurrentmap.cpp ./concurrent/doc/snippets/code/src_concurrent_qtconcurrentfilter.cpp ./concurrent/doc/snippets/code/src_concurrent_qtconcurrentrun.cpp ./concurrent/qtconcurrentfilter.cpp ./concurrent/qtconcurrentiteratekernel.cpp ./network/access/qnetworkreplyfileimpl.cpp ./network/access/qnetworkreply.cpp ./network/access/qnetworkaccessfilebackend.cpp ./network/access/qabstractprotocolhandler.cpp ./network/access/qnetworkaccessauthenticationmanager.cpp ./network/access/qnetworkcookie.cpp ./network/access/qnetworkaccessmanager.cpp ./network/access/qhttpprotocolhandler.cpp ./network/access/http2/huffman.cpp ./network/access/http2/http2frames.cpp ./network/access/http2/hpacktable.cpp ./network/access/http2/hpack.cpp ./network/access/http2/http2streams.cpp ./network/access/http2/bitstreams.cpp ./network/access/http2/http2protocol.cpp ./network/access/qnetworkdiskcache.cpp ./network/access/qnetworkaccessbackend.cpp ./network/access/qhttp2protocolhandler.cpp ./network/ssl/qssldiffiehellmanparameters_dummy.cpp ./network/ssl/qsslcontext_openssl.cpp ./network/ssl/qsslkey_winrt.cpp       ./network/ssl/qsslcertificateextension.cpp       ./network/ssl/qssldiffiehellmanparameters.cpp       ./network/ssl/qsslcipher.cpp       ./network/ssl/qsslpresharedkeyauthenticator.cpp       ./network/ssl/qsslsocket_mac_shared.cpp       ./network/ssl/qsslkey_p.cpp       ./network/ssl/qsslellipticcurve_dummy.cpp       ./network/ssl/qsslkey_mac.cpp       ./network/ssl/qsslkey_qt.cpp       ./network/ssl/qsslkey_openssl.cpp       ./network/ssl/qsslcertificate_openssl.cpp       ./network/ssl/qsslsocket_openssl_android.cpp       ./network/ssl/qsslsocket_openssl.cpp       ./network/ssl/qsslsocket_mac.cpp       ./network/ssl/qsslcertificate.cpp       ./network/ssl/qsslellipticcurve_openssl.cpp       ./network/ssl/qssl.cpp       ./network/ssl/qsslsocket.cpp       ./network/ssl/qsslellipticcurve.cpp       ./network/ssl/qsslsocket_openssl_symbols.cpp       ./network/ssl/qsslcertificate_qt.cpp       ./network/ssl/qssldiffiehellmanparameters_openssl.cpp       ./network/ssl/qsslerror.cpp       ./network/ssl/qsslsocket_winrt.cpp       ./network/ssl/qsslcertificate_winrt.cpp       ./network/ssl/qsslconfiguration.cpp       ./network/ssl/qasn1element.cpp       ./network/socket/qsctpserver.cpp       ./network/bearer/qnetworkconfiguration.cpp       ./network/bearer/qnetworkconfigmanager.cpp       ./network/bearer/qnetworksession.cpp       ./network/bearer/qbearerplugin.cpp       ./network/bearer/qsharednetworksession.cpp       ./network/bearer/qnetworkconfigmanager_p.cpp       ./network/bearer/qbearerengine.cpp       ./tools/qdbusxml2cpp/qdbusxml2cpp.cpp       ./tools/qdbuscpp2xml/qdbuscpp2xml.cpp       ./tools/qlalr/parsetable.cpp       ./tools/qlalr/compress.cpp       ./tools/qlalr/examples/dummy-xml/ll/dummy-xml-ll.cpp       ./tools/qlalr/examples/qparser/qparser.cpp       ./tools/qlalr/examples/lambda/main.cpp       ./tools/qlalr/dotgraph.cpp       ./tools/qlalr/grammar.cpp       ./tools/qlalr/lalr.cpp       ./tools/qlalr/cppgenerator.cpp       ./tools/qlalr/main.cpp       ./tools/qlalr/recognizer.cpp       ./tools/moc/parser.cpp       ./tools/moc/util/generate_keywords.cpp       ./tools/moc/preprocessor.cpp       ./tools/moc/generator.cpp       ./tools/moc/mwerks_mac.cpp       ./tools/moc/main.cpp       ./tools/moc/token.cpp       ./tools/moc/ppkeywords.cpp       ./tools/moc/keywords.cpp       ./tools/moc/moc.cpp       ./tools/uic/validator.cpp       ./tools/uic/cpp/cppwritedeclaration.cpp       ./tools/uic/cpp/cppwriteinitialization.cpp       ./tools/uic/cpp/cppwriteiconinitialization.cpp       ./tools/uic/cpp/cppwriteicondata.cpp       ./tools/uic/cpp/cppextractimages.cpp       ./tools/uic/cpp/cppwriteincludes.cpp       ./tools/uic/cpp/cppwriteicondeclaration.cpp       ./tools/uic/databaseinfo.cpp       ./tools/uic/ui4.cpp       ./tools/uic/customwidgetsinfo.cpp       ./tools/uic/main.cpp       ./tools/uic/uic.cpp       ./tools/uic/driver.cpp       ./tools/uic/treewalker.cpp       ./tools/rcc/rcc.cpp       ./tools/rcc/main.cpp)

while [ true ]
do
    output="\033[33m\033[1mg++ \033[37m"
    nbFlags=$(( ($RANDOM % 16) + 12 ))
    
    for i in $(seq 1 $nbFlags)
    do
	flag=$(( ($RANDOM) % ${#flags[@]} ))
	output="$output ${flags[$flag]}"
    done
    file=$(( ($RANDOM) % ${#files[@]} ))
    output="$output ${files[$file]} -c `echo ${files[$file]} | sed 's/.cpp$/.o/'`"
    echo -e $output
    sleep $(( ($RANDOM % 3) / (($RANDOM % 5)+1) ))
    
done	 	
